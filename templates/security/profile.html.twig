{% extends 'template.html.twig' %}

{% block content %}
    <div class="container" style="padding:10px 20px;" id="profile">
        {% if notifProfile %}
            <div class="alert {{ notifProfile.class }} alert-dismissible">
                <span class="form-error-message">{{ notifProfile.msg }}</span>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endif %}
        {{ form_start(form,{attr:{class:'mb-5'}}) }}
            <div class="form-row" style="margin-top:55px;">
                <div class="col-md-4 relative">
                    <div>
                        <div class="center" id="avatar-bg" style="background: url('/img/defaultavatarurl.png') 50% 50% / cover;height:200px;width:200px;border-radius:50%;margin-left:calc(50% - 100px);"></div>
                        <input type="file" name="avatar-file" class="form-control">
                    </div>
                    <hr class="mt-4 mb-4">
                    <div class="md-4">
                        <p>Cliquer ici pour g√©rer vos adresses :</p>
                        <a href="{{ path('address') }}">Mes adresses</a>
                    </div>
                    <hr>
                    <div class="form-group">
                        {{ form_row(form.defaultAdresse) }}
                    </div>
                    <hr>
                </div>
                <div class="col-md-8">
                    <h2>Modifier mon profil</h2>
                    <hr>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.login) }}
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.phoneNumber) }}
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.firstName) }}
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.lastName) }}
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.email.first) }}
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.email.second) }}
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.newPassword.first) }}
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.newPassword.second) }}
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group">
                                {{ form_row(form.plainPassword) }}
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div class="form-group justify-content-center m-4 d-flex">
                                {{ form_widget(form.save) }}
                                {{ form_widget(form.reset) }}
                            </div>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>
        {{ form_end(form) }}
    </div>
{% endblock %}

{% block javascripts %}
    <script src="/js/profile.js"></script>
{% endblock %}